{"version":3,"sources":["cart.js"],"names":["tabIcon","document","querySelector","tabButton","onclick","classList","toggle","counters","querySelectorAll","productPrices","_opacityAdd","target","closest","add","_opacityRemove","remove","_totalSum","totalSum","forEach","productPrice","inputTotal","valuePrice","parseInt","String","textContent","replace","quantity","value","totalSumProduct","toLocaleString","style","currency","minimumFractionDigits","innerHTML","counter","addEventListener","e","contains","window","key","isNaN","oninput","this","tablinks","tabcontents","i","tablink","tabcontent","Object","hasOwnProperty","call","view_tablink","view_content","_toggleLink","el","selectGroup","itsSelects","itsSelect","listItems","selectButton","opened_select","_toggleOpen","start","nextElementSibling","blur","length","selectValue","buttons","getElementsByClassName","listItem","focus","el_selected","_listItem","collapse","ItcCollapse","selectNext","sibling","preventDefault","previousElementSibling","closeBos"],"mappings":"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","sourcesContent":["//* -------------------------------[Burger]-------------------------------------\nconst tabIcon = document.querySelector(\".tab-button__icon\");\nconst tabButton = document.querySelector('.tab-button');\ndocument.querySelector('.tab-button__icon-wrapp').onclick = () => {\n\ttabIcon.classList.toggle('_active');\n\ttabButton.classList.toggle('_responsive');\n};\n//* --------------------------[Quantity products]-------------------------------\nconst counters = document.querySelectorAll('[data-quantity]');\nconst productPrices = document.querySelectorAll('.product-prices>p');\nif (counters) {\n\tcounters.forEach(counter => {\n\t\tcounter.addEventListener('click', (e) => {\n\t\t\ttarget = e.target;\n\t\t\tif (target.closest('.quantity__buttom')) {\n\t\t\t\tif (target.closest('.quantity').querySelector('input').value == '' && (target.classList.contains('quantity-remove') || target.classList.contains('quantity-add'))) {\n\t\t\t\t\ttarget.closest('.quantity').querySelector('input').value = 0;\n\t\t\t\t}\n\t\t\t\tlet value = parseInt(target.closest('.quantity').querySelector('input').value);\n\t\t\t\tif (target.classList.contains('quantity-add')) {\n\t\t\t\t\tvalue++;\n\t\t\t\t} else {\n\t\t\t\t\t--value;\n\t\t\t\t}\n\t\t\t\tif (value <= 1) {\n\t\t\t\t\tvalue = 1;\n\t\t\t\t\t_opacityAdd();\n\t\t\t\t} else {\n\t\t\t\t\t_opacityRemove();\n\t\t\t\t}\n\n\t\t\t\ttarget.closest('.quantity').querySelector('input').value = value;\n\t\t\t}\n\t\t\t_totalSum();\n\t\t});\n\t\tcounter.querySelector('input').addEventListener('keyup', (e) => {\n\t\t\te = e || window.e;\n\t\t\tconst target = e.target;\n\t\t\tlet value = parseInt(target.closest('.quantity').querySelector('input').value);\n\t\t\tif (e.key === 'Enter') {\n\t\t\t\tvalue = value;\n\t\t\t\tif (value <= 1) {\n\t\t\t\t\tvalue = 1;\n\t\t\t\t}\n\t\t\t} else if (e.key === 'ArrowDown') {\n\t\t\t\t--value;\n\t\t\t\tif (value <= 1) {\n\t\t\t\t\tvalue = 1;\n\t\t\t\t}\n\t\t\t} else if (e.key === 'ArrowUp') {\n\t\t\t\tvalue++;\n\t\t\t} else if (e.key === 'ArrowLeft') {\n\t\t\t\t--value;\n\t\t\t\tif (value <= 1) {\n\t\t\t\t\tvalue = 1;\n\t\t\t\t}\n\t\t\t} else if (e.key === 'ArrowRight') {\n\t\t\t\tvalue++;\n\t\t\t}\n\t\t\tif (value <= 1) {\n\t\t\t\t_opacityAdd();\n\t\t\t} else if (value > 1) {\n\t\t\t\t_opacityRemove();\n\t\t\t}\n\t\t\tvalue = isNaN(value) ? 1 : value;\n\t\t\ttarget.closest('.quantity').querySelector('input').value = value;\n\t\t\t_totalSum();\n\t\t\tvalue.oninput = function () {\n\t\t\t\tthis.value = this.value.replace(/[^\\d]/g, '');\n\t\t\t};\n\t\t});\n\t});\n};\nfunction _opacityAdd() {\n\ttarget.closest('.quantity').querySelector('.quantity-remove').classList.add('_disabled');\n}\nfunction _opacityRemove() {\n\ttarget.closest('.quantity').querySelector('.quantity-remove').classList.remove('_disabled');\n}\nfunction _totalSum() {\n\tlet totalSum = 0;\n\tproductPrices.forEach(productPrice => {\n\t\tconst inputTotal = document.querySelector('.input-total');\n\t\tlet valuePrice = parseInt(String(productPrice.textContent).replace(/ /g, ''));\n\t\tlet quantity = productPrice.closest('.shopping-cart__item').querySelector('input').value;\n\n\t\ttotalSumProduct = (valuePrice * quantity);\n\t\ttotalSum += (+totalSumProduct);\n\n\t\tproductPrice.closest('.shopping-cart__item').querySelector('.card-name__quantity-price').textContent = totalSumProduct.toLocaleString('ru-Ru', {\n\t\t\tstyle: 'currency',\n\t\t\tcurrency: 'RUB',\n\t\t\tminimumFractionDigits: 0,\n\t\t});\n\t\tinputTotal.innerHTML = totalSum.toLocaleString() + `<i class=\"icon-ruble\"></i>`;\n\t});\n}\n_totalSum();\n//* ----------------------------[Shift-Tabs]-----------------------------------\nconst tablinks = document.querySelectorAll('.tab-button__item');\nconst tabcontents = document.querySelectorAll('.order-place__quick-order');\nfor (const i in tablinks) {\n\tconst tablink = tablinks[i];\n\tconst tabcontent = tabcontents[i];\n\tif (Object.hasOwnProperty.call(tabcontents, i)) {\n\t\ttablink.addEventListener('click', () => {\n\t\t\tconst view_tablink = document.querySelector('.tab-button__item._active');\n\t\t\tconst view_content = document.querySelector('.order-place__quick-order._active');\n\t\t\ttabButton.classList.remove('_responsive');\n\t\t\ttabIcon.classList.remove('_active');\n\t\t\t_toggleLink(view_tablink);\n\t\t\tif (view_tablink && view_tablink !== tabcontent) {\n\t\t\t\t_toggleLink(tablink);\n\t\t\t}\n\t\t\t_toggleLink(view_content);\n\t\t\tif (view_content && view_content !== tablink) {\n\t\t\t\t_toggleLink(tabcontent);\n\t\t\t}\n\t\t});\n\t}\n}\nconst _toggleLink = (el) => {\n\tif (el.classList.contains('_active')) {\n\t\tel.classList.remove('_active');\n\t} else {\n\t\tel.classList.add('_active');\n\t}\n};\n//* ------------------------------ [Select]-------------------------------------\ndocument.querySelectorAll('[data-select]').forEach(function (selectGroup) {\n\tconst itsSelects = selectGroup.querySelectorAll('.select');\n\tif (itsSelects) {\n\t\titsSelects.forEach(itsSelect => {\n\t\t\tconst listItems = itsSelect.querySelectorAll('.select__list-item');\n\t\t\tconst selectButton = itsSelect.querySelector('.select__button');\n\t\t\titsSelect.addEventListener('click', function (el) {\n\t\t\t\ttarget = el.target;\n\t\t\t\tif (target.closest('.select__button')) {\n\t\t\t\t\tconst opened_select = document.querySelector('._active-collapse');\n\t\t\t\t\t_toggleOpen(itsSelect);\n\t\t\t\t\tif (el.target.closest('.select__box-button')) {\n\t\t\t\t\t\tstart = el.target.closest('.select__box-button').nextElementSibling.querySelector('._selected');\n\t\t\t\t\t}\n\t\t\t\t\tif (!target.closest('.select').classList.contains('_active-collapse')) {\n\t\t\t\t\t\tselectButton.blur();\n\t\t\t\t\t}\n\t\t\t\t\tif (opened_select && opened_select !== itsSelect) {\n\t\t\t\t\t\t_toggleOpen(opened_select);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (listItems.length !== 0) {\n\t\t\t\tvar start = listItems[0];\n\t\t\t\t[].forEach.call(listItems, function (listItem) {\n\t\t\t\t\tlistItem.addEventListener('click', function (e) {\n\t\t\t\t\t\tstart = this;\n\t\t\t\t\t\tstart.focus();\n\t\t\t\t\t\tselectButton.value = listItem.textContent;\n\t\t\t\t\t\tconst el_selected = itsSelect.querySelector('._selected');\n\t\t\t\t\t\t_listItem(listItem);\n\t\t\t\t\t\tif (el_selected && el_selected !== listItem) {\n\t\t\t\t\t\t\t_listItem(el_selected);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//* -------------------------------------------------\n\t\t\t\t\t\tselectValue();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tfunction selectValue() {\n\t\t\t\t\tlet buttons = selectGroup.getElementsByClassName('select__button');\n\t\t\t\t\tfor (i = 0; i < buttons.length; i++) {\n\t\t\t\t\t\tbuttons[i].value = start.textContent;\n\t\t\t\t\t\tselectButton.blur();\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t//todo Переключатель классов\n\t\t\t\tconst _listItem = (el) => {\n\t\t\t\t\tconst collapse = new ItcCollapse(el.closest('._collapse'));\n\t\t\t\t\tif (el.classList.contains('_selected')) {\n\t\t\t\t\t\tel.classList.remove('_selected');\n\t\t\t\t\t\tcollapse.toggle();\n\t\t\t\t\t\tel.closest('.select').classList.remove('_active-collapse');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.classList.add('_selected');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tselectGroup.addEventListener('keydown', function (e) {\n\t\t\t\te = e || window.e;\n\t\t\t\te.preventDefault();\n\t\t\t\ttarget = e.target;\n\t\t\t\tif (e.key == 'ArrowUp') {\n\t\t\t\t\t//* Arrow Up -------------------------------------\n\t\t\t\t\tlet sibling = start.previousElementSibling;\n\t\t\t\t\tselectNext(sibling);\n\t\t\t\t} else if (e.key == 'ArrowDown') {\n\t\t\t\t\t//* Arrow Down -----------------------------------\n\t\t\t\t\tlet sibling = start.nextElementSibling;\n\t\t\t\t\tselectNext(sibling);\n\t\t\t\t} else if (e.key == 'Enter') {\n\t\t\t\t\t//* Key Enter ------------------------------------\n\t\t\t\t\tselectValue();\n\t\t\t\t\tcloseBos();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// todo Переключение активного элемента и его выделение при изменении фокуса;\n\t\t\tfunction selectNext(sibling) {\n\t\t\t\tif (sibling !== null) {\n\t\t\t\t\tstart.focus();\n\t\t\t\t\tstart.classList.remove('_selected');\n\t\t\t\t\tsibling.focus();\n\t\t\t\t\tsibling.classList.add('_selected');\n\t\t\t\t\tstart = sibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//todo Переключатель классов\n\t\t\tconst _toggleOpen = (el) => {\n\t\t\t\tconst collapse = new ItcCollapse(el.closest('.select').querySelector('._collapse'));\n\t\t\t\tif (el.classList.contains('_active-collapse')) {\n\t\t\t\t\tel.classList.remove('_active-collapse');\n\t\t\t\t\tcollapse.toggle();\n\t\t\t\t} else {\n\t\t\t\t\tel.classList.add('_active-collapse');\n\t\t\t\t\tcollapse.toggle();\n\t\t\t\t}\n\t\t\t};\n\t\t\t//todo Нажатие на Tab или Escape. Закрыть дропдаун;\n\t\t\tdocument.addEventListener('keydown', function (el) {\n\t\t\t\tif (el.key === 'Tab' || el.key === 'Escape') {\n\t\t\t\t\tselectButton.blur();\n\t\t\t\t\tcloseBos();\n\t\t\t\t}\n\t\t\t});\n\t\t\t//todo Клик снаружи дропдауна. Закрыть дропдаун;\n\t\t\tdocument.addEventListener('click', function (e) {\n\t\t\t\tconst classList = e.target.classList;\n\t\t\t\tswitch (true) {\n\t\t\t\t\tcase classList.contains('select__button'):\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase classList.contains('select__list-item'):\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcloseBos();\n\t\t\t\t\t\tbreak;\n\t\t\t\t};\n\t\t\t});\n\t\t\t//todo Клик снаружи дропдауна. Переключатель классов. Закрыть дропдаун;\n\t\t\tfunction closeBos() {\n\t\t\t\tconst dropDown = document.querySelectorAll('.select');\n\t\t\t\tdropDown.forEach(el => {\n\t\t\t\t\tif (el.classList.contains('_active-collapse')) {\n\t\t\t\t\t\t_toggleOpen(el);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n});"],"file":"cart-min.js"}