const tabIcon=document.querySelector(".tab-button__icon"),tabButton=document.querySelector(".tab-button");document.querySelector(".tab-button__icon-wrapp").onclick=(()=>{tabIcon.classList.toggle("_active"),tabButton.classList.toggle("_responsive")});const counters=document.querySelectorAll("[data-quantity]"),productPrices=document.querySelectorAll(".product-prices>p");function _opacityAdd(){target.closest(".quantity").querySelector(".quantity-remove").classList.add("_disabled")}function _opacityRemove(){target.closest(".quantity").querySelector(".quantity-remove").classList.remove("_disabled")}function _totalSum(){let t=0;productPrices.forEach(e=>{const c=document.querySelector(".input-total");let o=parseInt(String(e.textContent).replace(/ /g,"")),s=e.closest(".shopping-cart__item").querySelector("input").value;totalSumProduct=o*s,t+=+totalSumProduct,e.closest(".shopping-cart__item").querySelector(".card-name__quantity-price").textContent=totalSumProduct.toLocaleString("ru-Ru",{style:"currency",currency:"RUB",minimumFractionDigits:0}),c.innerHTML=t.toLocaleString()+'<i class="icon-ruble"></i>'})}counters&&counters.forEach(t=>{t.addEventListener("click",t=>{if(target=t.target,target.closest(".quantity__buttom")){""==target.closest(".quantity").querySelector("input").value&&(target.classList.contains("quantity-remove")||target.classList.contains("quantity-add"))&&(target.closest(".quantity").querySelector("input").value=0);let t=parseInt(target.closest(".quantity").querySelector("input").value);target.classList.contains("quantity-add")?t++:--t,t<=1?(t=1,_opacityAdd()):_opacityRemove(),target.closest(".quantity").querySelector("input").value=t}_totalSum()}),t.querySelector("input").addEventListener("keyup",t=>{const e=(t=t||window.e).target;let c=parseInt(e.closest(".quantity").querySelector("input").value);"Enter"===t.key?(c=c)<=1&&(c=1):"ArrowDown"===t.key?--c<=1&&(c=1):"ArrowUp"===t.key?c++:"ArrowLeft"===t.key?--c<=1&&(c=1):"ArrowRight"===t.key&&c++,c<=1?_opacityAdd():c>1&&_opacityRemove(),c=isNaN(c)?1:c,e.closest(".quantity").querySelector("input").value=c,_totalSum(),c.oninput=function(){this.value=this.value.replace(/[^\d]/g,"")}})}),_totalSum();const tablinks=document.querySelectorAll(".tab-button__item"),tabcontents=document.querySelectorAll(".order-place__quick-order");for(const t in tablinks){const e=tablinks[t],c=tabcontents[t];Object.hasOwnProperty.call(tabcontents,t)&&e.addEventListener("click",()=>{const t=document.querySelector(".tab-button__item._active"),o=document.querySelector(".order-place__quick-order._active");tabButton.classList.remove("_responsive"),tabIcon.classList.remove("_active"),_toggleLink(t),t&&t!==c&&_toggleLink(e),_toggleLink(o),o&&o!==e&&_toggleLink(c)})}const _toggleLink=t=>{t.classList.contains("_active")?t.classList.remove("_active"):t.classList.add("_active")};document.querySelectorAll("[data-select]").forEach(function(t){const e=t.querySelectorAll(".select");e&&e.forEach(e=>{const c=e.querySelectorAll(".select__list-item"),o=e.querySelector(".select__button");if(e.addEventListener("click",function(t){if(target=t.target,target.closest(".select__button")){const c=document.querySelector("._active-collapse");a(e),t.target.closest(".select__box-button")&&(s=t.target.closest(".select__box-button").nextElementSibling.querySelector("._selected")),target.closest(".select").classList.contains("_active-collapse")||o.blur(),c&&c!==e&&a(c)}}),0!==c.length){var s=c[0];function n(){let e=t.getElementsByClassName("select__button");for(i=0;i<e.length;i++)e[i].value=s.textContent,o.blur()}[].forEach.call(c,function(t){t.addEventListener("click",function(c){(s=this).focus(),o.value=t.textContent;const a=e.querySelector("._selected");l(t),a&&a!==t&&l(a),n()})});const l=t=>{const e=new ItcCollapse(t.closest("._collapse"));t.classList.contains("_selected")?(t.classList.remove("_selected"),e.toggle(),t.closest(".select").classList.remove("_active-collapse")):t.classList.add("_selected")}}function l(t){null!==t&&(s.focus(),s.classList.remove("_selected"),t.focus(),t.classList.add("_selected"),s=t)}t.addEventListener("keydown",function(t){if((t=t||window.e).preventDefault(),target=t.target,"ArrowUp"==t.key){l(s.previousElementSibling)}else if("ArrowDown"==t.key){l(s.nextElementSibling)}else"Enter"==t.key&&(n(),r())});const a=t=>{const e=new ItcCollapse(t.closest(".select").querySelector("._collapse"));t.classList.contains("_active-collapse")?(t.classList.remove("_active-collapse"),e.toggle()):(t.classList.add("_active-collapse"),e.toggle())};function r(){document.querySelectorAll(".select").forEach(t=>{t.classList.contains("_active-collapse")&&a(t)})}document.addEventListener("keydown",function(t){"Tab"!==t.key&&"Escape"!==t.key||(o.blur(),r())}),document.addEventListener("click",function(t){const e=t.target.classList;switch(!0){case e.contains("select__button"):case e.contains("select__list-item"):break;default:r()}})})});